/* ===== [01] Global / Theme Vars ========================================== */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

:root{
  /* 본문/글자 */
  --bg: #0B1220;             /* 다크 배경 */
  --fg: #F7FAFC;             /* 본문 글자 */
  --fg-dim: #E2E8F0;         /* 라벨/보조 글자 */
  --muted: #B6C2D1;          /* placeholder(조금 진한 회색) */

  /* 포커스/강조 */
  --accent:   #9067C6;
  --accent-2: #A685DB;

  /* 패널/사이드바/인풋 */
  --panel:      rgba(12, 20, 34, 0.80);
  --panel-2:    rgba(30, 41, 59, 0.85);
  --sidebar-bg: rgba(17, 24, 39, 0.96);
  --sidebar-br: rgba(148, 163, 184, 0.22);

  --input-bg:     rgba(255,255,255,0.10);
  --input-border: rgba(255,255,255,0.35);
  --input-focus:  rgba(166,133,219,0.85);
}

/* ===== [02] App Base ===================================================== */
.stApp{
  background-color: var(--bg) !important;
  color: var(--fg) !important;
  font-family: 'Noto Sans KR', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}
h1,h2,h3,h4,h5,h6{ color: var(--fg) !important; }
[data-testid="stHeader"], [data-testid="stToolbar"]{ background: transparent !important; }

/* ===== [03] Sidebar (항상 보이고, 대비 강화) ============================== */
[data-testid="stSidebar"]{
  display:block !important;
  background: var(--sidebar-bg) !important;
  backdrop-filter: blur(8px);
  border-right: 1px solid var(--sidebar-br);
}
[data-testid="stSidebar"] *{
  color: var(--fg) !important;
}

/* ===== [04] Labels / Help / Legend (더 진하게) =========================== */
.stTextInput>label, .stSelectbox>label, .stSlider>label, .stRadio>label,
.stFileUploader>label, .stNumberInput>label, .stPassword>label,
.stMultiSelect>label, .stDateInput>label{
  color: var(--fg-dim) !important;
  font-weight: 700 !important;
}

/* ===== [05] Inputs (text/password/textarea/select) ======================= */
/* 공통 인풋 박스 */
[data-testid="stTextInput"] input,
[data-testid="stPassword"] input,
input[type="text"], input[type="password"], textarea{
  background-color: var(--input-bg) !important;
  border: 1px solid var(--input-border) !important;
  color: var(--fg) !important;
  caret-color: var(--fg) !important;
  border-radius: 10px !important;
}

/* placeholder를 더 진하게 */
[data-testid="stTextInput"] input::placeholder,
[data-testid="stPassword"]  input::placeholder,
textarea::placeholder{
  color: var(--muted) !important;
}

/* 포커스 시 더 선명하게 */
[data-testid="stTextInput"] input:focus,
[data-testid="stPassword"]  input:focus,
textarea:focus{
  outline: none !important;
  border-color: var(--input-focus) !important;
  box-shadow: 0 0 0 2px rgba(166,133,219,0.25) !important;
}

/* Select(내부 baseweb 컴포넌트 색상 보정) */
.stSelectbox [data-baseweb="select"] *{
  color: var(--fg) !important;
}
.stSelectbox [data-baseweb="select"] *::placeholder{
  color: var(--muted) !important;
}
.stSelectbox [data-baseweb="select"] div{
  background-color: transparent !important;
}

/* 라디오/체크박스 라벨 대비 */
.stRadio label, .stCheckbox label{
  color: var(--fg) !important;
}

/* ===== [06] Buttons ====================================================== */
.stButton>button{
  border-radius: 999px;
  border: 2px solid var(--accent);
  background-color: var(--accent);
  color: #fff; font-weight: 800;
  padding: 10px 20px;
  transition: .2s ease;
}
.stButton>button:hover{
  background: transparent;
  color: var(--accent-2);
  border-color: var(--accent-2);
}

/* ===== [07] Panels / Alerts / Expander ================================== */
[data-testid="stAlert"]{
  background: var(--panel-2) !important;
  border: 1px solid rgba(255,255,255,0.15) !important;
  border-radius: 12px !important;
}
[data-testid="stAlert"] p{ color: var(--fg) !important; }

/* expander 헤더/본문 대비 */
.st-expanderHeader, .stExpanderHeader{
  color: var(--fg) !important;
}
.stExpander{ background: transparent !important; }

/* ===== [08] Chat Bubbles ================================================= */
[data-testid="stChatMessage"]{
  background-color: var(--panel);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 12px; padding: 1rem; margin-bottom: 1rem;
}
[data-testid="stChatMessage"] p, [data-testid="stChatMessage"] li{
  color: var(--fg) !important;
}

/* ===== [09] Progress / Helper Text ====================================== */
.gp-msg{
  margin-top:.5rem; color:#F7FAFC; opacity:.95; font-size:0.95rem;
}

/* ===== [10] Code / Logs ================================================== */
pre, code{ color:#CFE3FF !important; }

/* ===== [11] (선택) 작은 입력 박스 높이 보정 ============================== */
[data-testid="stTextInput"] input,
[data-testid="stPassword"] input{ height: 42px !important; }
textarea{ min-height: 120px !important; }
